<!-- 
  USER LOGIN TEMPLATE - Allows existing users to authenticate
  Uses Django's built-in AuthenticationForm with custom styling
-->
{% extends "miniblog/base.html" %}

<!-- Page title for browser tab -->
{% block title %}Login - MiniBlog{% endblock %}

<!-- Main content block -->
{% block content %}
<!-- 
  CENTERED LOGIN FORM - Even narrower than registration (4/12 columns on large screens)
  Login forms need minimal space since they have fewer fields
-->
<div class="row justify-content-center">
  <div class="col-md-6 col-lg-4">
    <!-- LOGIN CARD - Enhanced styling with shadow and colored header -->
    <div class="card shadow">
      <!-- COLORED HEADER - Primary blue background for visual emphasis -->
      <div class="card-header bg-primary text-white">
        <h2 class="h4 mb-0 text-center">Login</h2>
      </div>
      <div class="card-body">
        <!-- 
          LOGIN FORM - Authenticates existing users
          Handled by user_login view function or Django's built-in LoginView
        -->
        <form method="POST">
          {% csrf_token %}  <!-- CSRF protection required -->
          
          <!-- USERNAME FIELD - User identifier for authentication -->
          <div class="mb-3">
            <label for="{{ form.username.id_for_label }}" class="form-label"
              >Username</label
            >
            <!-- 
              USERNAME INPUT - From UserLoginForm (extends AuthenticationForm)
              Includes Bootstrap styling applied in forms.py
            -->
            {{ form.username }} 
            
            <!-- Username validation errors (required, not found, etc.) -->
            {% if form.username.errors %}
            <div class="alert alert-danger mt-2">
              {{ form.username.errors }}
            </div>
            {% endif %}
          </div>
          
          <!-- PASSWORD FIELD - User password for authentication -->
          <div class="mb-3">
            <label for="{{ form.password.id_for_label }}" class="form-label"
              >Password</label
            >
            <!-- 
              PASSWORD INPUT - Masked input field
              Also includes Bootstrap styling from UserLoginForm
            -->
            {{ form.password }} 
            
            <!-- Password validation errors (required, incorrect, etc.) -->
            {% if form.password.errors %}
            <div class="alert alert-danger mt-2">
              {{ form.password.errors }}
            </div>
            {% endif %}
          </div>
          
          <!-- SUBMIT BUTTON - Full-width login button -->
          <div class="d-grid">
            <button type="submit" class="btn btn-primary">Login</button>
          </div>
        </form>
      </div>
      
      <!-- 
        CARD FOOTER - Link to registration for new users
        Provides navigation between login and registration forms
      -->
      <div class="card-footer text-center">
        <small class="text-muted">
          Need an account?
          <a href="{% url 'register' %}" class="text-decoration-none"
            >Register here</a
          >
        </small>
      </div>
    </div>
  </div>
</div>
{% endblock %}
